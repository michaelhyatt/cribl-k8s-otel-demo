{"name":"Traces from Edge Spools","elements":[{"config":{"defaultValue":{"earliest":"-1h","latest":"now","timezone":"local"},"axis":{"yAxis":[]}},"id":"9p6ns71d8","inputId":"timerange","type":"input.timerange","layout":{"x":0,"y":0,"w":2,"h":2},"title":"Time Range"},{"config":{"colorPalette":0,"colorPaletteReversed":false,"customData":{"trellis":false,"connectNulls":"Leave gaps","stack":false,"seriesCount":1},"xAxis":{"labelInterval":"auto","labelOrientation":0,"position":"Bottom"},"yAxis":{"position":"Left","scale":"Linear","splitLine":true},"axis":{},"legend":{"position":"Right","truncate":true},"onClickAction":{"type":"Run a new search","search":"dataset=\"k8s_disk_spool\" trace_id=\"$value$\"\n| summarize count() by status_code=attributes[\"http.status_code\"]"},"seriesInfo":{"spans":{}},"series":[{"yAxisField":"duration","name":"duration","color":{"paletteIndex":0,"colorIndex":0}}]},"search":{"type":"inline","query":"dataset=\"k8s_disk_spool\" resource.attributes[\"service.name\"]=\"frontend\" name=\"POST /api/checkout\"\n// add duration field calculated from start and end times\n| extend duration = (end_time_unix_nano - start_time_unix_nano) / 1000000000 \n// aggregate by trace_id\n| summarize duration=max(duration) by trace_id \n// only show the top 10 (slowest) transactions\n| top 10 by duration desc","earliest":"-1h","latest":"now"},"id":"3lajaatdj","layout":{"x":0,"y":0,"w":8,"h":4},"type":"chart.column","title":"Top 10 slowest – click a bar to drill down"},{"config":{"onClickAction":{"type":"Run a new search","search":"dataset=\"k8s_disk_spool\" trace_id=\"$value$\"\n| send tee=true \"https://silkworm-shining-instantly.ngrok-free.app\""},"showRowNumbers":false,"axis":{"yAxis":["spans"]},"colorPalette":0,"colorPaletteReversed":false,"customData":{"trellis":false,"connectNulls":"Leave gaps","stack":false},"xAxis":{"labelOrientation":0,"position":"Bottom"},"yAxis":{"position":"Left","scale":"Linear","splitLine":true},"legend":{"position":"Right","truncate":true}},"search":{"type":"inline","query":"\n| project trace_id, duration\n| extend duration = round(duration, 2)","earliest":"-1h","latest":"now","parentSearchId":"3lajaatdj"},"id":"38mual6o7","layout":{"x":8,"y":0,"w":4,"h":4},"type":"list.table","title":"Click a slow trace_id to replay into Elastic"},{"config":{"colorPalette":0,"colorPaletteReversed":false,"customData":{"trellis":false,"connectNulls":"Leave gaps","stack":false,"seriesCount":1},"xAxis":{"labelInterval":"auto","labelOrientation":0,"position":"Bottom"},"yAxis":{"position":"Left","scale":"Linear","splitLine":true},"axis":{},"legend":{"position":"Right","truncate":true},"onClickAction":{"type":"Run a new search","search":"dataset=\"k8s_disk_spool\" trace_id=\"$value$\"\n| summarize count() by status_code=attributes[\"http.status_code\"]"},"series":[{"yAxisField":"duration","name":"duration","color":{"paletteIndex":0,"colorIndex":0}}]},"search":{"type":"inline","query":"dataset=\"k8s_disk_spool\" resource.attributes[\"service.name\"]=\"frontend\" name=\"POST /api/checkout\"\n// add duration field calculated from start and end times\n| extend duration = (end_time_unix_nano - start_time_unix_nano) / 1000000000 \n// aggregate by trace_id\n| summarize duration=min(duration) by trace_id \n// only show the top 10 (fastest) transactions\n| top 10 by duration asc \n","earliest":"-1h","latest":"now"},"id":"3lajaatdj-copy","layout":{"x":0,"y":4,"w":8,"h":4},"type":"chart.column","title":"Top 10 fastest – click a bar to drill down"},{"config":{"onClickAction":{"type":"Run a new search","search":"dataset=\"k8s_disk_spool\" trace_id=\"$value$\"\n| send tee=true \"https://silkworm-shining-instantly.ngrok-free.app\""},"showRowNumbers":false,"axis":{"yAxis":["spans"]},"colorPalette":0,"colorPaletteReversed":false,"customData":{"trellis":false,"connectNulls":"Leave gaps","stack":false},"xAxis":{"labelOrientation":0,"position":"Bottom"},"yAxis":{"position":"Left","scale":"Linear","splitLine":true},"legend":{"position":"Right","truncate":true}},"search":{"type":"inline","query":"| project trace_id, duration\n | extend duration = round(duration, 4)","earliest":"-1h","latest":"now","parentSearchId":"3lajaatdj-copy"},"id":"38mual6o7-copy","layout":{"x":8,"y":4,"w":4,"h":4},"type":"list.table","title":"Click a fast trace_id to replay into Elastic"}],"createdBy":"oidc|CriblCorpOkta|00uqbwsz1bzTYiOhK4x7","modifiedBy":"oidc|CriblCorpOkta|00uqbwsz1bzTYiOhK4x7","modified":1734856878529,"created":1734856878529,"layout":{}}